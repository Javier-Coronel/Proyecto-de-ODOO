<odoo>
    <data>
        <record id="view_taller_orden_calendar" model="ir.ui.view">
            <field name="name">taller.orden.calendar</field>
            <field name="model">taller.orden_reparacion</field>
            <field name="arch" type="xml">
                <calendar string="Reparaciones" date_start="fecha_reparacion" color="state">
                    <field name="vehiculo_id"/>
                    <field name="coste"/>
                </calendar>
            </field>
        </record>

        <record id="view_taller_orden_graph" model="ir.ui.view">
            <field name="name">taller.orden.graph</field>
            <field name="model">taller.orden_reparacion</field>
            <field name="arch" type="xml">
                <graph string="Costes de Reparación" type="bar">
                    <field name="fecha_reparacion" type="row"/>
                    <field name="coste" type="measure"/>
                </graph>
            </field>
        </record>

        <record id="view_taller_orden_form" model="ir.ui.view">
            <field name="name">taller.orden.form</field>
            <field name="model">taller.orden_reparacion</field>
            <field name="arch" type="xml">
                <form string="Orden de Reparación">
                    <header>
                        <button name="action_confirmar" string="Confirmar" type="object" class="oe_highlight" states="borrador"/>
                        <button name="action_finalizar" string="Finalizar" type="object" class="oe_highlight" states="confirmado"/>
                        <field name="state" widget="statusbar" statusbar_visible="borrador,confirmado,finalizado"/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="vehiculo_id"/>
                                <field name="fecha_reparacion"/>
                            </group>
                            <group>
                                <field name="coste"/>
                                <field name="descuento"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Mecánicos">
                                <field name="mecanicos_ids"/>
                            </page>
                            <page string="Repuestos">
                                <field name="repuestos_ids"/>
                            </page>
                            <page string="Servicios">
                                <field name="servicios_ids"/>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>
        
        <record id="view_taller_orden_tree" model="ir.ui.view">
            <field name="name">taller.orden.tree</field>
            <field name="model">taller.orden_reparacion</field>
            <field name="arch" type="xml">
                <tree decoration-info="state == 'borrador'" decoration-muted="state == 'finalizado'">
                    <field name="vehiculo_id"/>
                    <field name="fecha_reparacion"/>
                    <field name="coste"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="action_taller_orden" model="ir.actions.act_window">
            <field name="name">Órdenes de Reparación</field>
            <field name="res_model">taller.orden_reparacion</field>
            <field name="view_mode">tree,form,calendar,graph</field>
        </record>
    </data>
</odoo>